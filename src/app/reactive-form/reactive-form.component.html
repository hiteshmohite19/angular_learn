<div class="container m-2">

    <h3>Reactive Form</h3>
    {{userDetails.value|json}}
    <form [formGroup]='userDetails'>

        <div class="form-group">
            <input [class.is-invalid]="userDetailsControl.username.invalid && userDetailsControl.username.touched" formControlName='username' type="text" name="username" class="form-control" placeholder="Username" autocomplete="off">
            <div *ngIf='userDetailsControl.username.invalid && userDetailsControl.username.touched'>
                <small class='text-danger' *ngIf="userDetailsControl.username.errors?.required">Username is invalid</small>
                <small class='text-danger' *ngIf="userDetailsControl.username.errors?.minlength">Username length must be atleat 5 characters</small>
                <small class='text-danger ' *ngIf="userDetailsControl.username.errors?.forbidden">Username {{userDetailsControl.username.value}} not allowed</small>
            </div>
        </div>

        <div class="form-group">
            <input formControlName='email' [class.is-invalid]='userDetailsControl.email.invalid && userDetailsControl.email.touched' formControlName='email' type="email" class="form-control" placeholder="Email">
            <small class='text-danger' *ngIf="userDetailsControl.email.invalid && userDetailsControl.email.touched">Email is invalid</small>
        </div>       

        <div class="form-group">
            <div class="form-check">
                <input type="checkbox" formControlName='checkbox' id="" class="form-check-input"><label for="" class="form-check-label"> Subscribe</label>
            </div>
        </div>

        <div class="form-group">
            <input formControlName='password' type="password" name="password" class="form-control" placeholder="Password">
        </div>

        <div class="form-group">
            <input [class.is-invalid]='userDetails.errors?.mismatch' formControlName='confirmPassword' type="password" name="confirmPassword" class="form-control" placeholder="Confirm Password">
            <small class="text-danger" *ngIf='userDetails.errors?.mismatch'>Password does not match</small>
        </div>

        <div formGroupName='address'>
            <div class="form-group">
                <input formControlName='street' type="text" name="street" class="form-control" placeholder="Street">
            </div>

            <div class="form-group">
                <input formControlName='landmark' type="text" name="landmark" class="form-control" placeholder="Landmark">
            </div>
        </div>
    </form>
    
</div>